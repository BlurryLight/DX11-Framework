/****************************************************************************/
/*!
\file
   Buffer.hpp
\Author
   Ryan Dugie
\brief
    Copyright (c) Ryan Dugie. All rights reserved.
    Licensed under the Apache License 2.0

    Wrapper around ID3D11DepthStencilView
*/
/****************************************************************************/
/*============================================================================*\
|| ------------------------------ INCLUDES ---------------------------------- ||
\*============================================================================*/

#include "DX11PCH.hpp"
#include "DepthStencilView.hpp"

/*============================================================================*\
|| --------------------------- GLOBAL VARIABLES ----------------------------- ||
\*============================================================================*/

/*============================================================================*\
|| -------------------------- STATIC FUNCTIONS ------------------------------ ||
\*============================================================================*/

/*============================================================================*\
|| -------------------------- PUBLIC FUNCTIONS ------------------------------ ||
\*============================================================================*/

/****************************************************************************/
/*!
\brief
  Constructor, creates a buffer from the device

\param device
  The ID3D11Device

\param buffer
  The texture that stores the depth values
*/
/****************************************************************************/
DX11::DepthStencilView::DepthStencilView(DX11::Device device, DX11::Texture2D buffer)
{
    if (!SUCCEEDED(device->CreateDepthStencilView(buffer.Get(), nullptr, ReleaseAndGetAddressOf())))
    {
        throw std::runtime_error("DX11: CreateDepthStencilView() failed from DepthStencilView!\n");
    }
}
